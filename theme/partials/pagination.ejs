<%
let count = yield $Topic.getTopicsCount($this.query.tab);
let pages = Math.ceil(count / 10);
let page = +$this.query.p || 1;
let tab = $this.query.tab || '';
let items = [page - 2, page - 1, page, page + 1, page + 2];
let prePage = '?tab=' + tab + '&p=' + (page - 1);
let nextPage = '?tab=' + tab + '&p=' + (page + 1);
%>
<div class="ui pagination menu">
  <% if (page && page > 1) { %>
  <a class="icon item" href="?tab=<%= tab %>&p=<%= page - 1 %>">
    <i class="left arrow icon"></i>
  </a>
  <% } %>

  <% items.forEach(function (item) { %>
  <% if (item && (item > 0) && (item <= pages) && (pages > 1)) { %>
  <a class="<%= (page == item) ? 'active' : '' %> item" href="?tab=<%= tab %>&p=<%= item %>"><%= item %></a>
  <% } %>
  <% }); %>

  <% if (page && page < pages) { %>
  <a class="icon item" href="?tab=<%= tab %>&p=<%= page + 1 %>">
    <i class="right arrow icon"></i>
  </a>
  <% } %>
</div>